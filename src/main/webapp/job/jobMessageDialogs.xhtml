<!--
Job Management & Tracking System (JMTS) 
Copyright (C) 2017  D P Bennett & Associates Limited

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.

Email: info@dpbennett.com.jm
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:form id="jobDetailTabCloseConfirmationForm"> 
        <p:confirmDialog severity="alert"
                         message="This job was modified. Do you wish to continue editing?"
                         header="Job Modified"
                         widgetVar="jobDetailTabCloseConfirmation"
                         width="425">

            <p:commandButton value="Yes"    
                             oncomplete="jobDetailTabCloseConfirmation.hide();"
                             icon="ui-icon-check"
                             process="@this"/>
            <p:commandButton value="No"                                                         
                             actionListener="#{jobManager.closeJobDetailTab}"
                             oncomplete="jobDetailTabCloseConfirmation.hide();"
                             icon="ui-icon-close"/>       
        </p:confirmDialog>
    </h:form>       


    <h:form id="jobSaveConfirmDialogForm"> 
        <p:confirmDialog severity="alert"
                         message="The current job (#{jobManager.currentJob.jobNumber}) was modified. Do you wish to save it?"
                         header="Job Modified (#{jobManager.currentJob.jobNumber})"
                         widgetVar="jobSaveConfirm"
                         width="425">

            <p:commandButton value="Yes"                             
                             actionListener="#{jobManager.saveAndCloseCurrentJob}"
                             onstart="longProcessDialogVar.show();"
                             update=":mainTabViewForm"
                             oncomplete="longProcessDialogVar.hide();jobSaveConfirm.hide();mainTabViewVar.select(0);"
                             icon="ui-icon-check"
                             process="@this"/>
            <p:commandButton value="No"
                             actionListener="#{jobManager.cancelJobEdit}"
                             update=":mainTabViewForm"
                             oncomplete="jobSaveConfirm.hide();mainTabViewVar.select(0);"
                             icon="ui-icon-close"/>       
        </p:confirmDialog>
    </h:form>       

    <p:confirmDialog severity="alert"                     
                     message="The current job must be saved before a copy can be created."
                     header="Job Modified"
                     widgetVar="jobModifiedDialog"
                     width="425">
        <h:form id="jobModifiedDialogForm">
            <p:commandButton value="Ok"
                             oncomplete="jobModifiedDialog.hide();"
                             icon="ui-icon-check"
                             process="@this"/>
        </h:form>
    </p:confirmDialog>

    <p:confirmDialog severity="alert"
                     message="The current job must be saved before continuing."
                     header="Job Not Saved"
                     widgetVar="jobNotSavedDialog"
                     width="425">
        <h:form id="jobNotSavedDialogForm">
            <p:commandButton value="Ok"
                             oncomplete="jobNotSavedDialog.hide();"
                             icon="ui-icon-check"
                             process="@this"/>
        </h:form>
    </p:confirmDialog>



</html>
