<!--
Job Management & Tracking System (JMTS) 
Copyright (C) 2017  D P Bennett & Associates Limited

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.

Email: info@dpbennett.com.jm
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"> 

    <p:toolbar>
        <p:toolbarGroup align="left">
            <p:menuButton value="New" >  

                <p:menuitem>                       
                    <p:commandButton value="User"
                                     style="width: 100%;text-align: left;background: none;border: 0;"
                                     title="Create new user"
                                     icon="fa fa-user-plus"
                                     onstart="PF('longProcessDialogVar').show();" 
                                     actionListener="#{systemManager.createNewUser}" 
                                     process="@this" >

                        <p:ajax event="dialogReturn" 
                                oncomplete="longProcessDialogVar.hide();centerTabVar.select(0);"
                                update=":mainTabViewForm:mainTabView:centerTabView:usersTable"/>

                    </p:commandButton>          
                </p:menuitem>     

                <p:menuitem>                       
                    <p:commandButton value="Employee"
                                     style="width: 100%;text-align: left;background: none;border: 0;"
                                     title="Create new employee"
                                     icon="fa fa-plus"
                                     onstart="PF('longProcessDialogVar').show();" 
                                     actionListener="#{systemManager.createNewEmployee}" 
                                     process="@this" >

                        <p:ajax event="dialogReturn" 
                                oncomplete="longProcessDialogVar.hide();centerTabVar.select(1);"
                                update=":mainTabViewForm:mainTabView:centerTabView:employeesTable"/>

                    </p:commandButton>          
                </p:menuitem>          

                <p:menuitem>                       
                    <p:commandButton value="Department"
                                     style="width: 100%;text-align: left;background: none;border: 0;"
                                     title="Create new department"
                                     icon="fa fa-plus"
                                     onstart="PF('longProcessDialogVar').show();" 
                                     actionListener="#{systemManager.createNewDepartment}" 
                                     process="@this" >

                        <p:ajax event="dialogReturn" 
                                oncomplete="longProcessDialogVar.hide();centerTabVar.select(2);"
                                update=":mainTabViewForm:mainTabView:centerTabView:departmentsTable"/>

                    </p:commandButton>          
                </p:menuitem>  

                <p:menuitem>                       
                    <p:commandButton value="Job classification"
                                     style="width: 100%;text-align: left;background: none;border: 0;"
                                     title="Create new job classification"
                                     icon="fa fa-plus"
                                     onstart="PF('longProcessDialogVar').show();" 
                                     actionListener="#{systemManager.createNewClassification}" 
                                     process="@this" >

                        <p:ajax event="dialogReturn" 
                                oncomplete="longProcessDialogVar.hide();dataListsTabViewVar.select(0);"
                                update=":mainTabViewForm:mainTabView:centerTabView:dataListsTabView:ClassificationsTable"/>

                    </p:commandButton>          
                </p:menuitem>  

                <p:menuitem>                       
                    <p:commandButton value="Job category"
                                     style="width: 100%;text-align: left;background: none;border: 0;"
                                     title="Create new job category"
                                     icon="fa fa-plus"
                                     onstart="PF('longProcessDialogVar').show();" 
                                     actionListener="#{systemManager.createNewJobCategory}" 
                                     process="@this" >

                        <p:ajax event="dialogReturn" 
                                oncomplete="longProcessDialogVar.hide();dataListsTabViewVar.select(1);"
                                update=":mainTabViewForm:mainTabView:centerTabView:dataListsTabView:JobCategoriesTable"/>

                    </p:commandButton>          
                </p:menuitem> 

                <p:menuitem>                       
                    <p:commandButton value="Job subcategory"
                                     style="width: 100%;text-align: left;background: none;border: 0;"
                                     title="Create new job subcategory"
                                     icon="fa fa-plus"
                                     onstart="PF('longProcessDialogVar').show();" 
                                     actionListener="#{systemManager.createNewJobSubCategory}" 
                                     process="@this" >

                        <p:ajax event="dialogReturn" 
                                oncomplete="longProcessDialogVar.hide();dataListsTabViewVar.select(2);"
                                update=":mainTabViewForm:mainTabView:centerTabView:dataListsTabView:JobSubcategoriesTable"/>

                    </p:commandButton>          
                </p:menuitem> 

                <p:menuitem>                       
                    <p:commandButton value="Sector"
                                     style="width: 100%;text-align: left;background: none;border: 0;"
                                     title="Create new job subcategory"
                                     icon="fa fa-plus"
                                     onstart="PF('longProcessDialogVar').show();" 
                                     actionListener="#{systemManager.createNewSector}" 
                                     process="@this" >

                        <p:ajax event="dialogReturn" 
                                oncomplete="longProcessDialogVar.hide();dataListsTabViewVar.select(3);"
                                update=":mainTabViewForm:mainTabView:centerTabView:dataListsTabView:SectorsTable"/>

                    </p:commandButton>          
                </p:menuitem>

                <p:menuitem>                       
                    <p:commandButton value="LDAP configuration"
                                     style="width: 100%;text-align: left;background: none;border: 0;"
                                     title="Create new LDAP configuration"
                                     icon="fa fa-plus"
                                     onstart="PF('longProcessDialogVar').show();" 
                                     actionListener="#{systemManager.createNewLdapContext}" 
                                     process="@this" >

                        <p:ajax event="dialogReturn" 
                                oncomplete="longProcessDialogVar.hide();systemConfigurationTabViewVar.select(0);"
                                update=":mainTabViewForm:mainTabView:centerTabView:systemConfigurationTabView:LDAPTable"/>

                    </p:commandButton>          
                </p:menuitem>

                <p:menuitem>                       
                    <p:commandButton value="System configuration"
                                     style="width: 100%;text-align: left;background: none;border: 0;"
                                     title="Create new system configuration"
                                     icon="fa fa-plus"
                                     onstart="PF('longProcessDialogVar').show();" 
                                     actionListener="#{systemManager.createNewSystemOption}" 
                                     process="@this" >

                        <p:ajax event="dialogReturn" 
                                oncomplete="longProcessDialogVar.hide();systemConfigurationTabViewVar.select(1);"
                                update=":mainTabViewForm:mainTabView:centerTabView:systemConfigurationTabView:systemOptionsTable"/>

                    </p:commandButton>          
                </p:menuitem>

            </p:menuButton>    

        </p:toolbarGroup>
        <p:toolbarGroup align="right">

            <p:menuButton value="Search" >  

                <p:menuitem>                       
                    <p:commandButton value="Users"
                                     style="width: 100%;text-align: left;background: none;border: 0;"
                                     title="Search for users"
                                     icon="fa fa-search"
                                     onstart="PF('longProcessDialogVar').show();" 
                                     actionListener="#{systemManager.doUserSearch}" 
                                     oncomplete="longProcessDialogVar.hide();centerTabVar.select(0);"
                                     update=":mainTabViewForm:mainTabView:centerTabView:usersTable"
                                     process="@this" />
                </p:menuitem>      
                
                <p:menuitem>                       
                    <p:commandButton value="Employees"
                                     style="width: 100%;text-align: left;background: none;border: 0;"
                                     title="Search for employees"
                                     icon="fa fa-search"
                                     onstart="PF('longProcessDialogVar').show();" 
                                     actionListener="#{systemManager.doEmployeeSearch}" 
                                     oncomplete="longProcessDialogVar.hide();centerTabVar.select(1);"
                                     update=":mainTabViewForm:mainTabView:centerTabView:employeesTable"
                                     process="@this" />
                </p:menuitem>  

            </p:menuButton>         
        </p:toolbarGroup>
    </p:toolbar>

</html>


